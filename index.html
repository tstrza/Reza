<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REZA NEXUS OS | Global Edition 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;400;900&display=swap');
        
        :root {
            --primary: #00f2fe;
            --secondary: #4facfe;
            --accent: #f093fb;
            --bg: #050505;
        }

        body { 
            font-family: 'Vazirmatn', sans-serif; 
            background-color: var(--bg);
            color: white;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* پس‌زمینه نئونی متحرک */
        .nexus-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2;
            background: radial-gradient(circle at 50% 50%, #0a0a1a 0%, #050505 100%);
        }
        .orb {
            position: absolute; width: 600px; height: 600px; border-radius: 50%;
            filter: blur(120px); opacity: 0.3; z-index: -1; animation: moveOrb 25s infinite alternate;
        }
        @keyframes moveOrb {
            0% { transform: translate(-30%, -30%) rotate(0deg); background: var(--primary); }
            100% { transform: translate(50%, 50%) rotate(360deg); background: var(--accent); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 2.5rem;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .glass-card:hover {
            border-color: var(--primary);
            box-shadow: 0 0 40px rgba(0, 242, 254, 0.15);
        }

        .leaderboard-list { font-size: 0.7rem; color: #00f2fe; }
        .tab-btn.active { border-bottom: 3px solid var(--primary); color: var(--primary); }
        
        /* انیمیشن لودینگ قهوه و سیستم */
        .loader-bar { height: 4px; background: var(--primary); transition: width 0.3s; box-shadow: 0 0 15px var(--primary); }
    </style>
</head>
<body class="p-4 md:p-12">
    <div class="nexus-bg">
        <div class="orb"></div>
        <div class="orb" style="animation-delay: -12s; right: 0; top: 0;"></div>
    </div>

    <header class="flex flex-col md:flex-row justify-between items-center mb-12 animate__animated animate__fadeIn">
        <div class="flex items-center gap-6 mb-6 md:mb-0">
            <div class="relative group">
                <div class="absolute inset-0 bg-cyan-500 blur-2xl opacity-40 group-hover:opacity-70 transition rounded-full"></div>
                <img src="https://api.dicebear.com/7.x/bottts/svg?seed=Sina" class="w-20 h-20 rounded-3xl relative border border-cyan-400/50 bg-black/50 p-2">
            </div>
            <div>
                <h1 class="text-5xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-600">NEXUS ELITE</h1>
                <p id="live-time" class="text-xs font-mono opacity-60 tracking-[0.4em]">LOADING SYSTEM...</p>
            </div>
        </div>
        <nav class="glass-card px-8 py-4 flex gap-10">
            <button onclick="showSection('home')" class="tab-btn font-bold hover:text-cyan-400 transition">خانه</button>
            <button onclick="showSection('tools')" class="tab-btn font-bold hover:text-cyan-400 transition">آزمایشگاه</button>
            <button onclick="showSection('games')" class="tab-btn font-bold hover:text-cyan-400 transition">گیم‌سنتر</button>
            <button onclick="showSection('sys')" class="tab-btn font-bold hover:text-cyan-400 transition">سیستم</button>
        </nav>
    </header>

    <main id="home" class="section active space-y-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="md:col-span-2 glass-card p-12 flex flex-col justify-center">
                <h2 class="text-7xl font-black mb-6 leading-none">فرمانده،<br><span class="text-cyan-400 italic">خوش آمدید.</span></h2>
                <div class="flex gap-6 items-center">
                    <div class="h-2 w-32 bg-white/10 rounded-full overflow-hidden"><div class="h-full bg-cyan-500 w-3/4 animate-pulse"></div></div>
                    <span id="user-ip" class="text-xs font-mono opacity-50 tracking-widest uppercase">Detecting Secure IP...</span>
                </div>
            </div>
            <div class="glass-card p-8 text-center relative overflow-hidden group">
                <div class="absolute inset-0 bg-gradient-to-b from-cyan-500/10 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
                <input id="city-input" type="text" placeholder="نام شهر به انگلیسی..." class="bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-sm w-full mb-4 outline-none focus:border-cyan-400 text-center">
                <button onclick="fetchWeather()" class="w-full bg-cyan-600/20 border border-cyan-500/50 rounded-2xl py-3 text-xs font-black uppercase tracking-widest hover:bg-cyan-600 transition mb-6">Update Atmosphere</button>
                <div id="w-icon" class="text-6xl text-cyan-400 mb-2"><i class="fas fa-bolt-lightning"></i></div>
                <h3 id="temp" class="text-6xl font-black">--°</h3>
                <p id="city-display" class="opacity-40 text-xs mt-2 uppercase tracking-tighter">LOCATION PENDING</p>
            </div>
        </div>
    </main>

    <section id="tools" class="section hidden grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="glass-card p-8 border-t-2 border-red-500">
            <div class="flex justify-between items-center mb-6">
                <h4 class="font-black text-xl italic">Security Scan</h4>
                <i class="fas fa-fingerprint text-red-500 text-2xl"></i>
            </div>
            <input id="pass-in" oninput="analyzePass()" type="password" placeholder="کلمه عبور جهت آنالیز..." class="w-full bg-black/50 rounded-2xl p-4 text-sm mb-4 outline-none border border-white/10 focus:border-red-500">
            <div class="h-1.5 w-full bg-white/5 rounded-full overflow-hidden mb-4">
                <div id="pass-bar" class="h-full w-0 bg-red-500 transition-all duration-700"></div>
            </div>
            <p id="pass-status" class="text-[10px] font-mono opacity-50">STRENGTH: NULL</p>
        </div>

        <div class="glass-card p-8 border-t-2 border-cyan-500">
            <h4 class="font-black text-xl mb-6 italic text-cyan-400">Morse Terminal</h4>
            <textarea id="morse-in" oninput="morseGen()" placeholder="پیام خود را تایپ کنید..." class="w-full h-24 bg-black/50 rounded-2xl p-4 text-xs mb-4 outline-none border border-white/10 focus:border-cyan-500 resize-none"></textarea>
            <div id="morse-out" class="font-mono text-cyan-500 text-lg tracking-widest break-all"></div>
        </div>

        <div class="glass-card p-8 border-t-2 border-yellow-500 text-center">
            <h4 class="font-black text-xl mb-4 italic text-yellow-500">GPU Stress Test</h4>
            <canvas id="stress-canvas" class="w-full h-32 bg-black/20 rounded-2xl mb-4"></canvas>
            <button onclick="runStress()" id="stress-btn" class="px-8 py-3 bg-yellow-500/20 text-yellow-500 border border-yellow-500/50 rounded-full text-xs font-black">START BENCHMARK</button>
            <div id="benchmark-res" class="mt-4 text-2xl font-mono text-white">SCORE: --</div>
        </div>
    </section>

    <section id="games" class="section hidden space-y-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="glass-card p-6 flex flex-col items-center">
                <span class="text-[10px] opacity-40 mb-4 font-black">REFLEX TEST</span>
                <div id="reflex-box" onclick="reflexClick()" class="w-full h-32 bg-white/5 rounded-3xl cursor-pointer flex items-center justify-center text-xs font-black transition-all">آماده؟</div>
                <div class="mt-4 text-cyan-400 text-xs font-mono">رکورد: <span id="reflex-high">--</span>ms</div>
            </div>

            <div class="glass-card p-6 flex flex-col items-center">
                <span class="text-[10px] opacity-40 mb-2 font-black">ULTIMATE CLICKER</span>
                <div id="click-val" class="text-4xl font-black mb-4">۰</div>
                <button onclick="handleMainClick()" class="w-20 h-20 bg-gradient-to-tr from-cyan-500 to-blue-600 rounded-full shadow-[0_0_30px_rgba(6,182,212,0.5)] border-4 border-white/20 active:scale-90 transition"></button>
                <div class="mt-4 text-cyan-400 text-xs font-mono">بیشترین کلیک: <span id="click-high">۰</span></div>
            </div>

            <div class="glass-card p-6 flex flex-col items-center">
                <span class="text-[10px] opacity-40 mb-4 font-black">NUMBER BRAIN</span>
                <input id="num-guess" type="number" placeholder="1-100" class="w-full bg-white/5 p-2 rounded-xl text-center mb-2 outline-none border border-white/10">
                <button onclick="playGuess()" class="bg-white/10 w-full py-2 rounded-xl text-[10px] font-black">CHECK</button>
                <div id="guess-hint" class="mt-2 text-[9px] text-yellow-500">یک عدد حدس بزن!</div>
            </div>

            <div class="glass-card p-6 flex flex-col items-center">
                <span class="text-[10px] opacity-40 mb-4 font-black">COFFEE ENGINE</span>
                <i id="cup" class="fas fa-mug-hot text-5xl opacity-20 transition-all"></i>
                <div class="w-full h-1 bg-white/5 mt-6 rounded-full overflow-hidden"><div id="brew-bar" class="h-full w-0 bg-orange-500"></div></div>
                <button onclick="brewCoffee()" class="mt-4 text-[10px] font-black text-orange-400 uppercase">Start Brewing</button>
            </div>
        </div>

        <div class="glass-card p-10">
            <h3 class="text-2xl font-black mb-8 italic"><i class="fas fa-trophy text-yellow-500 ml-4"></i>HALL OF FAME (Local)</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12" id="leaderboard-display">
                </div>
        </div>
    </section>

    <section id="sys" class="section hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10 glass-card p-12 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-10 opacity-5 text-8xl font-black italic">NEXUS</div>
            <div class="space-y-8 relative z-10">
                <h3 class="text-4xl font-black text-cyan-400 italic">SYSTEM_CORE</h3>
                <div id="spec-list" class="space-y-4"></div>
            </div>
            <div class="flex flex-col items-center justify-center relative">
                <div class="w-64 h-64 border-8 border-cyan-500/20 rounded-full flex flex-col items-center justify-center animate__animated animate__pulse animate__infinite">
                    <span id="fps-val" class="text-8xl font-black text-cyan-400 tracking-tighter">--</span>
                    <span class="text-xs opacity-40 font-black tracking-[0.5em]">HERTZ</span>
                </div>
            </div>
        </div>
    </section>

    <div id="ai-container" class="fixed bottom-10 left-10 z-[5000]">
        <div id="ai-chat" class="hidden w-80 glass-card p-6 mb-4 animate__animated animate__fadeInUp border-l-4 border-cyan-500">
            <div class="text-[10px] font-black opacity-40 mb-4 uppercase tracking-widest">Nexus AI Interface</div>
            <div id="chat-window" class="h-48 overflow-y-auto space-y-4 mb-4 pr-2 text-[11px] font-light"></div>
            <div class="flex gap-2">
                <input id="ai-in" type="text" placeholder="فرمانی صادر کنید..." class="bg-white/5 border border-white/10 rounded-xl px-4 py-2 w-full text-xs outline-none">
                <button onclick="aiProcess()" class="bg-cyan-600 px-4 rounded-xl"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
        <button onclick="toggleAI()" class="w-16 h-16 bg-cyan-600 rounded-[2rem] shadow-[0_0_30px_rgba(6,182,212,0.4)] flex items-center justify-center text-2xl hover:scale-110 active:scale-90 transition">
            <i class="fas fa-brain"></i>
        </button>
    </div>

    <script>
        // --- هسته مدیریت بخش‌ها ---
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.remove('hidden');
            document.getElementById(id).classList.add('animate__animated', 'animate__fadeIn');
            updateLeaderboard();
        }

        // --- سیستم هواشناسی هوشمند ---
        async function fetchWeather() {
            const city = document.getElementById('city-input').value || 'Tehran';
            document.getElementById('city-display').innerText = "CONNECTING TO STATION...";
            try {
                // شبیه‌سازی دریافت داده (در حالت واقعی از OpenWeather استفاده کنید)
                setTimeout(() => {
                    const temp = Math.floor(Math.random() * 30) + 5;
                    document.getElementById('temp').innerText = temp + "°";
                    document.getElementById('city-display').innerText = city.toUpperCase();
                }, 1000);
            } catch(e) { alert('خطا در اتصال به ماهواره!'); }
        }

        // --- آزمایشگاه دیجیتال (ابزارهای پیشرفته) ---
        function analyzePass() {
            const p = document.getElementById('pass-in').value;
            const bar = document.getElementById('pass-bar');
            const status = document.getElementById('pass-status');
            let score = Math.min(p.length * 10, 100);
            if(/[!@#$%^&*]/.test(p)) score += 20;
            bar.style.width = Math.min(score, 100) + "%";
            status.innerText = score > 80 ? "STRENGTH: ELITE" : "STRENGTH: VULNERABLE";
        }

        function morseGen() {
            const alpha = {'a':'.-','b':'-...','c':'-.-.','d':'-..','e':'.','f':'..-.','g':'--.','h':'....','i':'..','j':'.---','k':'-.-','l':'.-..','m':'--','n':'-.','o':'---','p':'.--.','q':'--.-','r':'.-.','s':'...','t':'-','u':'..-','v':'...-','w':'.--','x':'-..-','y':'-.--','z':'--..'};
            const text = document.getElementById('morse-in').value.toLowerCase();
            document.getElementById('morse-out').innerText = text.split('').map(c => alpha[c] || c).join(' ');
        }

        // --- سیستم لیدربورد و بازی‌ها ---
        let records = JSON.parse(localStorage.getItem('nexus_records')) || { reflex: 999, clicks: 0, system_score: 0 };

        function updateLeaderboard() {
            const display = document.getElementById('leaderboard-display');
            display.innerHTML = `
                <div class="glass-card p-4 border-l-2 border-cyan-500">
                    <div class="text-[10px] opacity-40">FASTEST REFLEX</div>
                    <div class="text-2xl font-black text-cyan-400">${records.reflex}ms</div>
                </div>
                <div class="glass-card p-4 border-l-2 border-orange-500">
                    <div class="text-[10px] opacity-40">TOTAL CLICKS</div>
                    <div class="text-2xl font-black text-orange-400">${records.clicks}</div>
                </div>
                <div class="glass-card p-4 border-l-2 border-yellow-500">
                    <div class="text-[10px] opacity-40">STRESS SCORE</div>
                    <div class="text-2xl font-black text-yellow-400">${records.system_score}</div>
                </div>
            `;
            document.getElementById('reflex-high').innerText = records.reflex;
            document.getElementById('click-high').innerText = records.clicks;
        }

        // بازی واکنش
        let reflexTime;
        function reflexClick() {
            const box = document.getElementById('reflex-box');
            if(box.style.background === 'rgb(0, 242, 254)') {
                const diff = Date.now() - reflexTime;
                if(diff < records.reflex) {
                    records.reflex = diff;
                    save();
                }
                box.style.background = 'rgba(255,255,255,0.05)';
                box.innerText = "زمان: " + diff + "ms";
            } else {
                box.innerText = "صبر کن...";
                setTimeout(() => {
                    box.style.background = '#00f2fe';
                    box.innerText = "بزن!!!!";
                    reflexTime = Date.now();
                }, Math.random() * 3000 + 1000);
            }
        }

        // کلیکر
        let currentClicks = 0;
        function handleMainClick() {
            currentClicks++;
            document.getElementById('click-val').innerText = currentClicks;
            if(currentClicks > records.clicks) {
                records.clicks = currentClicks;
                save();
            }
        }

        function save() { localStorage.setItem('nexus_records', JSON.stringify(records)); updateLeaderboard(); }

        // --- سیستم و FPS ---
        let f = 0, l = performance.now();
        function runFPS() {
            f++; let n = performance.now();
            if(n >= l + 1000) { document.getElementById('fps-val').innerText = f; f = 0; l = n; }
            requestAnimationFrame(runFPS);
        }
        runFPS();

        document.getElementById('spec-list').innerHTML = [
            `PROCESSOR_THREADS: ${navigator.hardwareConcurrency}`,
            `MEMORY_POOL: ~${navigator.deviceMemory || '8'}GB`,
            `PLATFORM_ENV: ${navigator.platform}`,
            `ENGINE: V8_NEXUS_CORE`
        ].map(i => `<div class="p-4 bg-white/5 border-l-2 border-cyan-500 font-mono text-xs">${i}</div>`).join('');

        // --- هوش مصنوعی ---
        function toggleAI() { document.getElementById('ai-chat').classList.toggle('hidden'); }
        function aiProcess() {
            const input = document.getElementById('ai-in');
            const window = document.getElementById('chat-window');
            if(!input.value) return;
            window.innerHTML += `<div class="text-right text-cyan-400"># USER: ${input.value}</div>`;
            setTimeout(() => {
                window.innerHTML += `<div class="text-left opacity-60"># NEXUS: فرمان شما با موفقیت در لایه‌های امنیتی سیستم پردازش شد. تمامی ابزارها آماده خدمت‌رسانی هستند.</div>`;
                window.scrollTop = window.scrollHeight;
            }, 600);
            input.value = "";
        }

        // لود اولیه
        fetchWeather();
        updateLeaderboard();
        document.getElementById('live-time').innerText = new Date().toLocaleTimeString();
        fetch('https://ipapi.co/json/').then(r => r.json()).then(d => document.getElementById('user-ip').innerText = `SECURE ACCESS: ${d.ip} | ${d.country}`);
    </script>
</body>
</html>

